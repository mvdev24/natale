<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Per te ğŸ¤</title>
    <link rel="stylesheet" href="style.css?v=20251224" />
  </head>
  <body>
    <canvas id="snowCanvas"></canvas>

    <!-- ACCESSO SEGRETO -->
    <form id="secretForm">
      <div id="login" class="screen active">
        <h1 class="type-me">Solo per te ğŸ¤</h1>
        <p class="type-me">
          Qual Ã¨ il giorno e il mese del nostro anniversario?
        </p>
        <input type="text" id="secretInput" placeholder="Scrivi qui..." />
        <button id="secretBtn" type="submit">Entra</button>
        <p class="error hidden">Hmmâ€¦ riprova ğŸ¤</p>
      </div>
    </form>

    <!-- START -->
    <div id="start" class="screen">
      <h1 class="type-me">Per questo Natale ğŸ„</h1>
      <p class="type-me">ho preparato un piccolo percorsoâ€¦</p>
      <button onclick="startExperience()" class="hidden">Inizia âœ¨</button>
    </div>

    <!-- STEP 1 -->
    <div id="step1" class="screen">
      <h2 class="type-me">Prima sorpresa âœ¨</h2>

      <div class="question question-1">
        <p class="type-me">Qual Ã¨ il tuo film preferito?</p>

        <div class="options hidden">
          <button onclick="answerStep(1, 1, false)">Notting Hill</button>
          <button onclick="answerStep(1, 1, true)">Harry Potter</button>
          <button onclick="answerStep(1, 1, false)">Il Padrino</button>
        </div>

        <p class="error error-1 hidden">Hmmâ€¦ riprova ğŸ¤</p>
      </div>

      <div class="question question-2 hidden">
        <p class="type-me">Chi Ã¨ il tuo personaggio preferito?</p>

        <div class="options hidden">
          <button onclick="answerStep(1, 2, false)">Hermione</button>
          <button onclick="answerStep(1, 2, true)">Piton</button>
          <button onclick="answerStep(1, 2, false)">Dobby</button>
        </div>

        <p class="error error-2 hidden">Hmmâ€¦ riprova ğŸ¤</p>

        <div class="reward hidden">
          <p>
            27 Dicembre 2025 ore 20:30 - Teatro Arcimboldi di Milano<br />
            Harry Potter e i doni della morte - In Concerto ğŸ­
          </p>
          <button onclick="goTo('step2')">Continua</button>
        </div>
      </div>
    </div>

    <!-- STEP 2 -->
    <div id="step2" class="screen">
      <h2 class="type-me">Seconda sorpresa ğŸ</h2>

      <div class="question question-1">
        <p class="type-me">
          Qual Ã¨ il mezzo dal quale Ã¨ impossibile separarti?
        </p>

        <div class="options hidden">
          <button onclick="answerStep(2, 1, true)">Scooter</button>
          <button onclick="answerStep(2, 1, false)">Cavallo</button>
          <button onclick="answerStep(2, 1, false)">Auto</button>
        </div>

        <p class="error error-1 hidden">Hmmâ€¦ riprova ğŸ¤</p>
      </div>

      <div class="question question-2 hidden">
        <p class="type-me">Cosa rende le corse piÃ¹ piacevoli?</p>

        <div class="options hidden">
          <button onclick="answerStep(2, 2, false)">Musica</button>
          <button onclick="answerStep(2, 2, true)">Mani calde</button>
          <button onclick="answerStep(2, 2, false)">CaffÃ¨</button>
        </div>

        <p class="error error-2 hidden">Hmmâ€¦ riprova ğŸ¤</p>

        <div class="reward hidden">
          <p>CosÃ¬ le mani saranno sempre al caldo ğŸ§¤ğŸ”¥</p>
          <button onclick="goTo('step3')">Continua</button>
        </div>
      </div>
    </div>

    <!-- STEP 3 -->
    <div id="step3" class="screen">
      <h2 class="type-me">Ultima sorpresa ğŸ…ğŸ»</h2>

      <div class="question question-1">
        <p class="type-me">Qual Ã¨ il viaggio dove hai mangiato di piÃ¹?</p>

        <div class="options hidden">
          <button onclick="answerStep(3, 1, false)">Amsterdam</button>
          <button onclick="answerStep(3, 1, false)">PerÃ¹</button>
          <button onclick="answerStep(3, 1, true)">Giappone</button>
        </div>

        <p class="error error-1 hidden">Hmmâ€¦ riprova ğŸ¤</p>
      </div>

      <div class="question question-2 hidden">
        <p class="type-me">Quante foto sono state fatte in quel viaggio?</p>

        <div class="options hidden">
          <button onclick="answerStep(3, 2, false)">1.234</button>
          <button onclick="answerStep(3, 2, true)">1.506</button>
          <button onclick="answerStep(3, 2, false)">1.789</button>
        </div>

        <p class="error error-2 hidden">Hmmâ€¦ riprova ğŸ¤</p>

        <div class="reward hidden">
          <p>
            Un piccolo ricordo fotografico dei nostri momenti piÃ¹ belli in
            Giappone ğŸ“¸
          </p>
          <button onclick="goTo('final')">Finale</button>
        </div>
      </div>
    </div>

    <!-- FINALE -->
    <div id="final" class="screen">
      <h1 class="type-me">Buon Natale amore mio ğŸ„ğŸ¤</h1>
      <p class="type-me">
        Il regalo piÃ¹ grande non Ã¨ quello che si scarta,<br />
        ma ciÃ² che stiamo costruendo insieme.
      </p>
      <p class="type-me"><span class="firma">Tuo Matteo</span> ğŸ˜Š</p>
    </div>

    <audio id="music" src="assets/music.mp3" loop></audio>
    <audio id="laugh" src="assets/babbo_natale.mp3"></audio>

    <script src="script.js?v=20251224"></script>
  </body>
</html>
